
##################################################
#                                                #
# DO NOT EDIT THIS FILE MANUALLY                 #
# AUTOMATICALLY CREATED WITH docker-builder.sh   #
#                                                #
##################################################
  

FROM whatwedo/base:latest
RUN apt-get update -y && \
apt-get update && apt-get install --no-install-recommends -y \
ca-certificates \
curl \
mercurial \
git-core
RUN curl -s https://storage.googleapis.com/golang/go1.5.2.linux-amd64.tar.gz | tar -v -C /usr/local -xz
ENV GOPATH /go
ENV GOROOT /usr/local/go
ENV PATH $PATH:/usr/local/go/bin:/go/bin
RUN apt-get install -y git && \
git clone git://github.com/elasticsearch/logstash-forwarder.git /opt/logstash-forwarder && \
cd /opt/logstash-forwarder && go build
COPY files/supervisord/logstash-forwarder.conf /etc/supervisor/conf.d/logstash-forwarder.conf
RUN apt-get autoremove -y && \
apt-get clean -y && \
rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*
LABEL ch.whatwedo.image.base="whatwedo/logstash-forwarder"
